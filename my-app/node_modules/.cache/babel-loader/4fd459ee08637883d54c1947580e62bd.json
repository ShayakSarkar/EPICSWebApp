{"ast":null,"code":"var _jsxFileName = \"/home/shayak/Desktop/MyPrograms/GroupProject/my-app/src/components/login_signup_page/Form.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport FormOption from './FormOption';\nimport './Form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar verylightblue = '#e6fcfc';\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loginSelected: false,\n      passwordValid: false,\n      loginError: false,\n      signupError: false\n    };\n  }\n\n  selectLogin() {\n    this.setState({\n      loginSelected: true,\n      signupError: false\n    });\n  }\n\n  selectSignup() {\n    this.setState({\n      loginSelected: false,\n      loginError: false\n    });\n  }\n\n  signup(event) {\n    event.preventDefault();\n\n    if (!this.state.passwordValid) {\n      console.log('entries not valid');\n      return;\n    }\n\n    var signupStatus = null;\n    fetchURL = null;\n\n    if (window.location.href === 'http://localhost:3000/doc_login') {\n      fetchURL = 'http://localhost:5000/doc_signup';\n    } else {\n      fetchURL = 'http://localhost:5000/signup';\n    }\n\n    fetch(fetchURL, {\n      method: 'POST',\n      credentials: 'include',\n      body: JSON.stringify({\n        'username': document.querySelector('input[name=email]').value,\n        'password': document.querySelector('input[name=password]').value\n      })\n    }).then(response => {\n      console.log(response);\n      return response.json();\n    }).then(param => {\n      signupStatus = param;\n      console.log('login_status: ', signupStatus);\n\n      if (signupStatus['message'] === 'success' && window.location.href === 'http://localhost:3000/login') {\n        window.location.assign('http://localhost:3000/hosp_form');\n      } else if (signupStatus['message'] === 'success' && window.location.href === 'http://localhost:3000/doc_login') {\n        window.location.assign('http://localhost:3000/doc_form');\n      } else {\n        this.setState({\n          signupError: true\n        });\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  login(event) {\n    event.preventDefault();\n\n    if (document.querySelector('input[name=email]').value === '') {\n      console.log('entries not valid');\n      return;\n    }\n\n    var loginStatus = null;\n    var fetchURL = null;\n\n    if (window.location.href === 'http://localhost:3000/doc_login') {\n      fetchURL = 'http://localhost:5000/doc_login';\n    } else {\n      fetchURL = 'http://localhost:5000/login';\n    }\n\n    fetch(fetchURL, {\n      method: 'POST',\n      credentials: 'include',\n      body: JSON.stringify({\n        'username': document.querySelector('input[name=email]').value,\n        'password': document.querySelector('input[name=password]').value\n      })\n    }).then(response => response.json()).then(param => {\n      loginStatus = param;\n      console.log('login_status: ', loginStatus);\n\n      if (loginStatus['message'] === 'success' && window.location.href === 'http://localhost:3000/login') {\n        window.location.assign('http://localhost:3000/hosp_form');\n      } else if (loginStatus['message'] === 'success' && window.location.href === 'http://localhost:3000/doc_login') {\n        window.location.assign('http://localhost:3000/doc_form');\n      } else {\n        this.setState({\n          loginError: true\n        });\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n    console.log('logging in ', document.querySelector('input[name=email]').value, document.querySelector('input[name=password]').value);\n  }\n\n  checkPass() {\n    var temp = document.querySelector('input[name=password]').value === document.querySelector('input[name=confirmation]').value;\n    console.log(temp);\n    console.log(document.querySelector('input[name=password]').value);\n    console.log(document.querySelector('input[name=confirmation]').value);\n    this.setState({\n      passwordValid: temp && document.querySelector('input[name=password]').value !== ''\n    });\n    return this.state.passwordValid;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(FormOption, {\n        text: \"Login\",\n        height: \"5%\",\n        width: \"37%\",\n        left: \"5%\",\n        top: \"2%\",\n        padding: \"3%\",\n        backgroundColor: this.state.loginSelected && verylightblue || 'white',\n        onClick: this.selectLogin.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormOption, {\n        text: \"Sign Up\",\n        height: \"5%\",\n        width: \"37%\",\n        left: \"50%\",\n        top: \"2%\",\n        padding: \"3%\",\n        backgroundColor: !this.state.loginSelected && verylightblue || 'white',\n        onClick: this.selectSignup.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ErrorMessage\",\n        style: {\n          display: !this.state.loginError && 'none' || 'block'\n        },\n        children: \" Error in logging in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ErrorMessage\",\n        style: {\n          display: !this.state.signupError && 'none' || 'block'\n        },\n        children: \" Error in signing up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        id: \"lb1\",\n        children: [\"Email ID \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"email@gmail.com\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        id: \"lb2\",\n        children: [\"Password \", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.checkPass.bind(this),\n          type: \"password\",\n          placeholder: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        id: \"lb3\",\n        style: {\n          display: this.state.loginSelected && 'none' || 'block'\n        },\n        children: [\"Confirmation\", /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.checkPass.bind(this),\n          type: \"password\",\n          placeholder: \"confirm password\",\n          name: \"confirmation\",\n          style: {\n            border: (this.state.passwordEmpty || !this.state.passwordValid) && '3px solid red' || 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"SignupButton\",\n        style: {\n          display: this.state.loginSelected && 'none' || 'block'\n        },\n        onClick: this.signup.bind(this),\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"LoginButton\",\n        style: {\n          display: !this.state.loginSelected && 'none' || 'block'\n        },\n        onClick: this.login.bind(this),\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["/home/shayak/Desktop/MyPrograms/GroupProject/my-app/src/components/login_signup_page/Form.js"],"names":["React","axios","FormOption","verylightblue","Form","Component","constructor","props","state","loginSelected","passwordValid","loginError","signupError","selectLogin","setState","selectSignup","signup","event","preventDefault","console","log","signupStatus","fetchURL","window","location","href","fetch","method","credentials","body","JSON","stringify","document","querySelector","value","then","response","json","param","assign","catch","e","login","loginStatus","checkPass","temp","render","bind","display","border","passwordEmpty"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport FormOption from './FormOption';\nimport './Form.css';\n\nvar verylightblue='#e6fcfc';\n\nclass Form extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            loginSelected: false,\n            passwordValid: false,\n            loginError: false,\n            signupError: false\n        };\n    }\n    selectLogin(){\n        this.setState({\n            loginSelected: true,\n            signupError: false\n        });\n    }\n    selectSignup(){\n        this.setState({\n            loginSelected: false,\n            loginError: false\n        });\n    }\n    signup(event){\n        event.preventDefault();\n        if(!this.state.passwordValid){\n            console.log('entries not valid');\n            return;\n        }\n        var signupStatus=null;\n        fetchURL=null;\n        if(window.location.href==='http://localhost:3000/doc_login'){\n            fetchURL='http://localhost:5000/doc_signup';\n        }\n        else{\n            fetchURL='http://localhost:5000/signup';\n        }\n        fetch(fetchURL,{\n            method: 'POST',    \n            credentials: 'include',\n            body: JSON.stringify({\n                'username': document.querySelector('input[name=email]').value,\n                'password': document.querySelector('input[name=password]').value\n            })\n        })\n        .then((response)=>{console.log(response);return response.json()})\n        .then((param)=>{\n            signupStatus=param;\n            console.log('login_status: ',signupStatus);\n            if(signupStatus['message']==='success' && window.location.href==='http://localhost:3000/login'){\n                window.location.assign('http://localhost:3000/hosp_form');\n            }\n            else if(signupStatus['message']==='success' && window.location.href==='http://localhost:3000/doc_login'){\n                window.location.assign('http://localhost:3000/doc_form');\n            }\n            else{\n                this.setState({\n                    signupError: true\n                });\n            }\n        })\n        .catch(e=>{console.log(e)});\n    }\n    login(event){\n        event.preventDefault();\n        if(document.querySelector('input[name=email]').value===''){\n            console.log('entries not valid');\n            return;\n        }\n        var loginStatus=null;\n        var fetchURL=null;\n        if(window.location.href==='http://localhost:3000/doc_login'){\n            fetchURL='http://localhost:5000/doc_login';\n        }\n        else{\n            fetchURL='http://localhost:5000/login';\n        }\n        fetch(fetchURL,{\n            method: 'POST',\n            credentials: 'include',\n            body: JSON.stringify({\n                'username': document.querySelector('input[name=email]').value,\n                'password': document.querySelector('input[name=password]').value\n            })\n        })\n        .then((response)=>response.json())\n        .then((param)=>{\n            loginStatus=param;\n            console.log('login_status: ',loginStatus);\n            if(loginStatus['message']==='success' && window.location.href==='http://localhost:3000/login'){\n                window.location.assign('http://localhost:3000/hosp_form');\n            }\n            else if(loginStatus['message']==='success' && window.location.href==='http://localhost:3000/doc_login'){\n                window.location.assign('http://localhost:3000/doc_form');\n            }\n            else{\n                this.setState({\n                    loginError: true\n                });\n            }\n        })\n        .catch(e=>{console.log(e)});\n        console.log('logging in ',document.querySelector('input[name=email]').value,document.querySelector('input[name=password]').value);\n    }\n    checkPass(){\n        var temp=document.querySelector('input[name=password]').value===document.querySelector('input[name=confirmation]').value;\n        console.log(temp);\n        console.log(document.querySelector('input[name=password]').value);\n        console.log(document.querySelector('input[name=confirmation]').value);\n        this.setState({\n            passwordValid: temp && document.querySelector('input[name=password]').value!==''\n        });\n        return this.state.passwordValid;\n    }\n    render(){\n        return <form>\n                <FormOption text=\"Login\" \n                    height=\"5%\" \n                    width=\"37%\"\n                    left=\"5%\"\n                    top=\"2%\"\n                    padding=\"3%\"\n                    backgroundColor={(this.state.loginSelected && verylightblue) || 'white'}\n                    onClick={this.selectLogin.bind(this)}\n                >\n                </FormOption>\n                <FormOption text=\"Sign Up\" \n                    height=\"5%\" \n                    width=\"37%\"\n                    left=\"50%\"\n                    top=\"2%\"\n                    padding=\"3%\"\n                    backgroundColor={(!this.state.loginSelected && verylightblue) || 'white'}\n                    onClick={this.selectSignup.bind(this)}\n                >\n                </FormOption>\n                <div className=\"ErrorMessage\" style={{display: (!this.state.loginError && 'none') || 'block'}}> Error in logging in</div>\n                <div className=\"ErrorMessage\" style={{display: (!this.state.signupError && 'none') || 'block'}}> Error in signing up</div>\n                <label id=\"lb1\">Email ID <input type=\"text\" placeholder=\"email@gmail.com\" name=\"email\"/></label>\n                <label id=\"lb2\">Password <input onChange={this.checkPass.bind(this)} type=\"password\" placeholder=\"password\" name=\"password\"/></label>\n                <label id=\"lb3\" style={{\n                        display: (this.state.loginSelected && 'none') || 'block',\n                    }}\n                >\n                    Confirmation \n                    <input onChange={this.checkPass.bind(this)} type=\"password\" placeholder=\"confirm password\" name=\"confirmation\" style={{\n                            border: ((this.state.passwordEmpty || !this.state.passwordValid) && '3px solid red') || 'none'\n                        }}\n                    />\n                </label>\n                <button className=\"SignupButton\" style={{\n                       display: ((this.state.loginSelected) && 'none') || 'block'\n                    }}\n                    onClick={this.signup.bind(this)}\n                >\n                    Sign Up\n                </button>\n                <button className=\"LoginButton\" style={{\n                        display: ((!this.state.loginSelected) && 'none') || 'block'\n                    }}\n                    onClick={this.login.bind(this)}\n                >\n                    Log In\n                </button>\n            </form>;\n    }\n}\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}